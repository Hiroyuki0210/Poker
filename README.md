# Poker

## ポーカーゲーム  
  
### 概要 
チップの賭けなしverポーカーをプレイします！  
まず、初めに5枚のカードが配られます。その後、交換したいカードを選び交換していきます。より強いカードの組み合わせ(役)を目指しましょう！  
ポーカーゲームは、CLI版とブラウザ版を用意しています。  
  
  
###  プロジェクトの導入  
　cmdでPokerプロジェクトをクローンします。  
 `git clone https://github.com/Hiroyuki0210/Poker.git`  
  
  
### CLI版ポーカーゲーム  
#### ターミナル上の文字コード変更  
このゲームの文字コードは UTF-8 に対応しています。そのため、ターミナル上でも文字コードをUTF-8に変更する必要があります(変更しないと文字化けが起こります)。  
以下は、windowsのターミナルをUTF-8 に変更するコマンドです。  
`chcp 65001`  
  
#### ゲーム開始コマンド  
ルートディレクトリ(Pokerディレクトリ)上で  
`gradlew run`  
を入力すると、次のようにゲームが開始します。  
```
> Task :run
対戦相手(コンピュータ)の数を入力してください。
コンピュータ数の上限は2です。
1人でプレイする場合は、0を入力してください。
```
  
#### プレイ方法  
このゲームは、  
  
1. 対戦相手(コンピュータ)の数を選択  
2. ゲームプレイ  
3. 勝敗決定  
  
の流れで進んでいきます。  
  
  
1. 対戦相手(コンピュータ)の数を選択  
  
ゲームが開始されると  
```
> Task :run
対戦相手(コンピュータ)の数を入力してください。
コンピュータ数の上限は2です。
1人でプレイする場合は、0を入力してください。
```
という文面が表示されます。  
コンピュータと対戦する場合は`1`または`2`を入力し、個人でプレイする場合は`0`を入力してください。  
  
2. ゲームプレイ  
  
コンピュータの数を選択した後は、ゲームをプレイしていきます。  
以下では、例として、コンピュータ数が1の場合を見ていきます。  
  
コンピュータ数の選択が完了すると、次のように初期手札がプレイヤーとコンピュータに配られます。  
```
初めのカードが配られました。

プレイヤー
手札 : ♣2　　♥3　　♥4　　♣5　　♥K　　
役   : なし


コンピュータ1
手札 : ♥2　　♠2　　♠7　　♦8　　♦10　　
役   : 1ペア


<カード交換>
交換したいカードの番号を選んでください。
番号は左から0,1,2,3,4となっていて、複数交換する場合は　,　で区切ってください。
交換せず終了する場合は、'q' を入力してください。

ラウンド1

プレイヤー　のターンです。
```
  
・手札確認  
上の画面の  
```
初めのカードが配られました。

プレイヤー
手札 : ♣2　　♥3　　♥4　　♣5　　♥K　　
役   : なし


コンピュータ1
手札 : ♥2　　♠2　　♠7　　♦8　　♦10　　
役   : 1ペア
```
を見ます。  
プレイヤー(もしくはコンピュータ1)の下に表示されているのが、現在の手札と役になります。  
  
手札の各カードは、`♣2`のように　スート＋数字　で表示されています。  
役は、現在の手札の組み合わせ状況を表していて、この強さによって勝敗が決定します。役の強弱に関しては<a href="http://gpf.mymd.jp/wp/pokar1">こちら</a>からご確認ください。    
  
・カード交換  
手札を確認した後は、不要なカードを交換します。  
  
<カード交換のルール>  
・カード交換の際には、カードの番号を指定してください。カード番号は左から 0,1,2,3,4 という順番で割り振られています。  
　※カード番号は各カードの数字とは関係ないので、ご注意ください。  
・複数のカードを交換する場合は "," で区切って、カード番号を入力してくだい。  
・カード交換は全部で3回あります。  
・カード交換しない場合は、'q'を入力します。
  
  
以下、実例です。  
上の画面では、現在の手札が  
```
プレイヤー
手札 : ♣2　　♥3　　♥4　　♣5　　♥K　　
役   : なし
```
となっています。  
カードの数字が 2,3,4,5 と連続しているので、ストレートを狙うために `♥K` を捨てます。  
`♥K`があるのは、左から数えると4番目(初めは0番から始まるので)になります。なので、コマンド上で
`4`  
を入力します。  
すると  
```
ラウンド1

プレイヤー　のターンです。
手札 : ♣2　　♥3　　♥4　　♣5　　♦6　　
役   : ストレート

コンピュータ1　のターンです。
手札 : ♥2　　♠2　　♠7　　♦8　　♦10　　
役   : 1ペア
```
というようにプレイヤーのカードが交換されます。
カードの数字が 2,3,4,5,6 となりましたので、見事、ストレートとなりました!  
プレイヤーの役を確認すると 確かにストレートに変わったのがわかります。  
  
コンピュータは、何かしらの役があると手札交換しないように設定していますので、1ペアのまま変わりません。  
  
カード交換は3回なので、あと2回カード交換するチャンスがあります。  
しかし、今の時点でコンピュータに勝っているので、これでカード交換はやめたいと思います。  
  
カード交換しない場合は、コマンドで `q` を入力してください。  
すると、  
```
ラウンド2

プレイヤー　のターンです。
手札 : ♣2　　♥3　　♥4　　♣5　　♦6　　
役   : ストレート

コンピュータ1　のターンです。
手札 : ♥2　　♠2　　♠7　　♦8　　♦10　　
役   : 1ペア
```
ラウンド2では、ラウンド1と同じ状況が出力されます。  
以降のラウンドでも、`q` を入力していきます。  
  
  
上の例では、カードを複数交換する場面はありませんでしたが、例えば  
```
ラウンド1

プレイヤー　のターンです。
手札 : ♣2　　♥3　　♥4　　♣5　　♦6　　
役   : ストレート
```
の状況で、♥のフラッシュを狙うために、`♣2 ♣5 ♦6`を交換したいとします。  
その場合は、各カードに対応する番号を`,`で区切って入力します。  
上の場合だと、
`0,3,4`  
を入力すると3枚のカードが交換されます。  
  
3. 勝敗決定  
  
カード交換が終わると、最終的な手札の役によって勝敗決定が行われます。  
勝敗の結果は
```
<結果>
1位 : プレイヤー
2位 : コンピュータ1
```
というような順位で表示されます。  

  
### ブラウザ版ポーカーゲーム(※現在、作成途中ですので実行できません)  
#### URLの取得  
ルートディレクトリ上で  
 `gradlew tomcatRunWar`  
 というコマンドを入力していただくと、次のように表示されます。    
 ```
Starting a Gradle Daemon (subsequent builds will be faster)

> Task :tomcatRunWar
Started Tomcat Server
The Server is running at http://localhost:8080/Poker
<==========---> 80% EXECUTING [38m 1s]
> :tomcatRunWar
 ```  
 このような画面が表示されたら、tomcatが起動している状態なので、あとはブラウザ上で  
 `http://localhost:8080/Poker/top.jsp`  
 を入力すると、ポーカーが始まります。  
  
 (補足)  
 ・ポーカーゲームのURL取得にはgradleというビルドツールの機能を使っています。今回、gradleをインストールしていただかなくても、URLを取得できたのはPokerプロジェクト内にgradleの機能を使えるようにするファイルがあるためです。gradleに関する詳しい説明は<a href="https://gradle.org/">こちら</a>から。  
 ・tomcatを停止させたい場合は、cmd上で Ctrl + c を入力すると、バッチジョブを終了しますかという内容の質問が表示されるので、yesと答えてください。  
 
   
#### プレイ方法
まず、ブラウザを開き、`http://localhost:8080/Poker/top.jsp` というURLを入力してください。すると、以下のような画面が表示されます。  

![image](https://user-images.githubusercontent.com/51352734/60850771-c0982280-a22b-11e9-8e3e-914fb15d8a25.png)  

  
上の画面が表示されたら、"スタート"ボタンをクリックし、Pokerゲームを開始します。  
ゲーム開始後、以下の画面のように5枚の手札が配られます。役がある場合は、カード下に表示されます。交換したいカードがある場合は、カード番号の横にあるチェックボックスにチェックを入れ、"交換する"ボタンを押してください。交換するカードがない場合は、"このまま勝負する"ボタンを押してください。    
![image](https://user-images.githubusercontent.com/51352734/60850877-1e2c6f00-a22c-11e9-8db2-79bd015d778a.png)  
交換回数は最大で3回までです。交換が終わると結果画面が表示され、"ゲームを終了する"を押すとトップ画面に戻ります。  
![image](https://user-images.githubusercontent.com/51352734/60850942-6186dd80-a22c-11e9-8845-c3fde9afea53.png)    
